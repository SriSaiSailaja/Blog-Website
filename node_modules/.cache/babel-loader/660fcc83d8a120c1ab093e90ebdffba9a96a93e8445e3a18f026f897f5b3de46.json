{"ast":null,"code":"import React from\"react\";import{getDocs,collection,doc,deleteDoc}from'firebase/firestore';import{db,auth}from\"../firebase-config\";import{useState,useEffect}from\"react\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Home(_ref){let{isAuth}=_ref;const[postLists,setPostList]=useState([]);const postsCollectionRef=collection(db,\"posts\");useEffect(()=>{const getPosts=async()=>{const data=await getDocs(postsCollectionRef);setPostList(data.docs.map(doc=>({...doc.data(),id:doc.id})));};getPosts();});const deletePost=async id=>{const postDoc=doc(db,\"posts\",id);await deleteDoc(postDoc);};return/*#__PURE__*/_jsx(\"div\",{className:\"homePage\",children:postLists.map(post=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"postHeader\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[\" \",post.title,\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"deletePost\",children:isAuth&&post.author.id===auth.currentUser.uid&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>deletePost(post.id),children:\"\\uD83D\\uDDD1\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"postTextContainer\",children:post.postText}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"@\",post.author.name]})]});})});}export default Home;","map":{"version":3,"names":["React","getDocs","collection","doc","deleteDoc","db","auth","useState","useEffect","jsxs","_jsxs","jsx","_jsx","Home","_ref","isAuth","postLists","setPostList","postsCollectionRef","getPosts","data","docs","map","id","deletePost","postDoc","className","children","post","title","author","currentUser","uid","onClick","postText","name"],"sources":["C:/Users/psris/Blogwebsite/pro/src/pages/Home.js"],"sourcesContent":[" import React from \"react\"\r\n import {getDocs,collection,doc,deleteDoc} from 'firebase/firestore'\r\n import {db,auth }  from \"../firebase-config\";\r\n import {useState,useEffect} from \"react\"\r\n function Home({isAuth})\r\n {\r\n   const [postLists,setPostList]=useState([]);\r\n   const postsCollectionRef= collection(db,\"posts\");\r\n    useEffect(()=>{\r\n        const getPosts=async()=>{\r\n        const data=await getDocs(postsCollectionRef);\r\n        setPostList(data.docs.map((doc)=>({...doc.data(),id:doc.id})));\r\n        };\r\n\r\n    getPosts();\r\n\r\n    });\r\n\r\nconst deletePost=async(id)=>{\r\n    const postDoc=doc(db,\"posts\",id);\r\n    await deleteDoc(postDoc)\r\n}\r\n\r\n \treturn (<div className=\"homePage\"> \r\n    {postLists.map((post)=> {\r\n        return( \r\n        <div className=\"post\">\r\n         <div className=\"postHeader\"> \r\n        <div className=\"title\">\r\n        <h1> {post.title} </h1>\r\n        </div>\r\n\r\n      <div className=\"deletePost\">\r\n      {isAuth && post.author.id===auth.currentUser.uid &&  \r\n        <button onClick={()=>deletePost(post.id)}>&#128465;</button>  }\r\n        </div>\r\n        </div>\r\n        <div className=\"postTextContainer\">{post.postText}</div>\r\n        <h3>@{post.author.name}</h3>\r\n        </div>\r\n        );\r\n    })}\r\n      </div>\r\n );\r\n }\r\n\r\nexport default Home;"],"mappings":"AAAC,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAAQC,OAAO,CAACC,UAAU,CAACC,GAAG,CAACC,SAAS,KAAO,oBAAoB,CACnE,OAAQC,EAAE,CAACC,IAAI,KAAS,oBAAoB,CAC5C,OAAQC,QAAQ,CAACC,SAAS,KAAO,OAAO,QAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBACxC,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CACb,IADc,CAACC,MAAM,CAAC,CAAAD,IAAA,CAEpB,KAAM,CAACE,SAAS,CAACC,WAAW,CAAC,CAACV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAW,kBAAkB,CAAEhB,UAAU,CAACG,EAAE,CAAC,OAAO,CAAC,CAC/CG,SAAS,CAAC,IAAI,CACV,KAAM,CAAAW,QAAQ,CAAC,KAAAA,CAAA,GAAS,CACxB,KAAM,CAAAC,IAAI,CAAC,KAAM,CAAAnB,OAAO,CAACiB,kBAAkB,CAAC,CAC5CD,WAAW,CAACG,IAAI,CAACC,IAAI,CAACC,GAAG,CAAEnB,GAAG,GAAI,CAAC,GAAGA,GAAG,CAACiB,IAAI,CAAC,CAAC,CAACG,EAAE,CAACpB,GAAG,CAACoB,EAAE,CAAC,CAAC,CAAC,CAAC,CAC9D,CAAC,CAELJ,QAAQ,CAAC,CAAC,CAEV,CAAC,CAAC,CAEN,KAAM,CAAAK,UAAU,CAAC,KAAM,CAAAD,EAAE,EAAG,CACxB,KAAM,CAAAE,OAAO,CAACtB,GAAG,CAACE,EAAE,CAAC,OAAO,CAACkB,EAAE,CAAC,CAChC,KAAM,CAAAnB,SAAS,CAACqB,OAAO,CAAC,CAC5B,CAAC,CAEC,mBAAQb,IAAA,QAAKc,SAAS,CAAC,UAAU,CAAAC,QAAA,CAC9BX,SAAS,CAACM,GAAG,CAAEM,IAAI,EAAI,CACpB,mBACAlB,KAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACpBjB,KAAA,QAAKgB,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC5Bf,IAAA,QAAKc,SAAS,CAAC,OAAO,CAAAC,QAAA,cACtBjB,KAAA,OAAAiB,QAAA,EAAI,GAAC,CAACC,IAAI,CAACC,KAAK,CAAC,GAAC,EAAI,CAAC,CAClB,CAAC,cAERjB,IAAA,QAAKc,SAAS,CAAC,YAAY,CAAAC,QAAA,CAC1BZ,MAAM,EAAIa,IAAI,CAACE,MAAM,CAACP,EAAE,GAAGjB,IAAI,CAACyB,WAAW,CAACC,GAAG,eAC9CpB,IAAA,WAAQqB,OAAO,CAAEA,CAAA,GAAIT,UAAU,CAACI,IAAI,CAACL,EAAE,CAAE,CAAAI,QAAA,CAAC,cAAS,CAAQ,CAAC,CACvD,CAAC,EACD,CAAC,cACNf,IAAA,QAAKc,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEC,IAAI,CAACM,QAAQ,CAAM,CAAC,cACxDxB,KAAA,OAAAiB,QAAA,EAAI,GAAC,CAACC,IAAI,CAACE,MAAM,CAACK,IAAI,EAAK,CAAC,EACvB,CAAC,CAEV,CAAC,CAAC,CACK,CAAC,CAEX,CAED,cAAe,CAAAtB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}