{"ast":null,"code":"import React from\"react\";import'../App.css';import{addDoc,collection}from'firebase/firestore';import{db,auth}from\"../firebase-config\";import{useNavigate}from\"react-router-dom\";import{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CreatePost(_ref){let{isAuth}=_ref;const[title,setTitle]=useState(\"\");const[postText,setPostText]=useState(\"\");const postsCollectionRef=collection(db,\"posts\");let navigate=useNavigate();const createPost=async()=>{await addDoc(postsCollectionRef,{title,postText,author:{name:auth.currentUser.displayName,id:auth.currentUser.uid}});navigate(\"/\");};useEffect(()=>{if(!isAuth){navigate(\"/login\");}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"createPostPage\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to Student Voices\"}),/*#__PURE__*/_jsx(\"div\",{id:\"para\",children:/*#__PURE__*/_jsx(\"p\",{children:\" We believe that every student has a unique perspective and a valuable voice. Our platform is dedicated to fostering open dialogue and the exchange of diverse ideas among the vibrant community of students on our campus. Students can express their opinions on current events, campus policies, or controversial topics through blog posts \"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"cpContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Create A Post \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGp\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Title:\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Title...\",onChange:event=>{setTitle(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGp\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Post:\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Post...\",onChange:event=>{setPostText(event.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createPost,children:\" Submit Post\"})]})]});}export default CreatePost;","map":{"version":3,"names":["React","addDoc","collection","db","auth","useNavigate","useState","useEffect","jsx","_jsx","jsxs","_jsxs","CreatePost","_ref","isAuth","title","setTitle","postText","setPostText","postsCollectionRef","navigate","createPost","author","name","currentUser","displayName","id","uid","className","children","placeholder","onChange","event","target","value","onClick"],"sources":["C:/Users/psris/Blogwebsite/pro/src/pages/CreatePost.js"],"sourcesContent":["import React from \"react\";\r\nimport '../App.css';\r\nimport {addDoc,collection} from 'firebase/firestore'\r\nimport {db,auth }  from \"../firebase-config\";\r\nimport {useNavigate} from \"react-router-dom\"; \r\nimport {useState,useEffect} from \"react\"\r\n\r\n function CreatePost({isAuth})\r\n {\r\nconst [title,setTitle]=useState(\"\");\r\nconst [postText,setPostText]=useState(\"\");\r\n\r\nconst postsCollectionRef= collection(db,\"posts\");\r\nlet navigate=useNavigate();\r\nconst createPost=async()=>{\r\nawait addDoc(postsCollectionRef,\r\n{\r\n   title,\r\n   postText,\r\n   author:{name:auth.currentUser.displayName,id:auth.currentUser.uid},});\r\n\r\n   navigate(\"/\");\r\n};\r\nuseEffect(()=>{\r\nif(!isAuth){\r\n    navigate(\"/login\");\r\n}\r\n},[]);\r\n\r\n \treturn <div className=\"createPostPage\">\r\n     <h2>Welcome to Student Voices</h2>\r\n<div id=\"para\"><p> We believe that every student has a unique perspective and a valuable voice. \r\nOur platform is dedicated to fostering open dialogue and the exchange of diverse ideas among the vibrant community of students on our campus.\r\nStudents can express their opinions on current events, campus policies, or controversial topics through blog posts </p></div>\r\n\r\n\r\n    <div className=\"cpContainer\">\r\n      <h1> Create A Post </h1>\r\n<div className=\"inputGp\">\r\n <label> Title:</label>\r\n <input placeholder=\"Title...\"  onChange={(event)=>{\r\n setTitle(event.target.value);\r\n }}/>\r\n</div>\r\n\r\n<div className=\"inputGp\">\r\n <label> Post:</label>\r\n <textarea placeholder=\"Post...\"  onChange={(event)=>{\r\n setPostText(event.target.value);\r\n }}/>\r\n</div>\r\n<button onClick={createPost}> Submit Post</button>\r\n</div>\r\n    </div>;\r\n }\r\n\r\nexport default CreatePost;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,YAAY,CACnB,OAAQC,MAAM,CAACC,UAAU,KAAO,oBAAoB,CACpD,OAAQC,EAAE,CAACC,IAAI,KAAS,oBAAoB,CAC5C,OAAQC,WAAW,KAAO,kBAAkB,CAC5C,OAAQC,QAAQ,CAACC,SAAS,KAAO,OAAO,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,QAAS,CAAAC,UAAUA,CAAAC,IAAA,CACnB,IADoB,CAACC,MAAM,CAAC,CAAAD,IAAA,CAE7B,KAAM,CAACE,KAAK,CAACC,QAAQ,CAAC,CAACV,QAAQ,CAAC,EAAE,CAAC,CACnC,KAAM,CAACW,QAAQ,CAACC,WAAW,CAAC,CAACZ,QAAQ,CAAC,EAAE,CAAC,CAEzC,KAAM,CAAAa,kBAAkB,CAAEjB,UAAU,CAACC,EAAE,CAAC,OAAO,CAAC,CAChD,GAAI,CAAAiB,QAAQ,CAACf,WAAW,CAAC,CAAC,CAC1B,KAAM,CAAAgB,UAAU,CAAC,KAAAA,CAAA,GAAS,CAC1B,KAAM,CAAApB,MAAM,CAACkB,kBAAkB,CAC/B,CACGJ,KAAK,CACLE,QAAQ,CACRK,MAAM,CAAC,CAACC,IAAI,CAACnB,IAAI,CAACoB,WAAW,CAACC,WAAW,CAACC,EAAE,CAACtB,IAAI,CAACoB,WAAW,CAACG,GAAG,CAAE,CAAC,CAAC,CAErEP,QAAQ,CAAC,GAAG,CAAC,CAChB,CAAC,CACDb,SAAS,CAAC,IAAI,CACd,GAAG,CAACO,MAAM,CAAC,CACPM,QAAQ,CAAC,QAAQ,CAAC,CACtB,CACA,CAAC,CAAC,EAAE,CAAC,CAEH,mBAAOT,KAAA,QAAKiB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eACnCpB,IAAA,OAAAoB,QAAA,CAAI,2BAAyB,CAAI,CAAC,cACvCpB,IAAA,QAAKiB,EAAE,CAAC,MAAM,CAAAG,QAAA,cAACpB,IAAA,MAAAoB,QAAA,CAAG,iVAEiG,CAAG,CAAC,CAAK,CAAC,cAGzHlB,KAAA,QAAKiB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BpB,IAAA,OAAAoB,QAAA,CAAI,iBAAe,CAAI,CAAC,cAC9BlB,KAAA,QAAKiB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACvBpB,IAAA,UAAAoB,QAAA,CAAO,SAAO,CAAO,CAAC,cACtBpB,IAAA,UAAOqB,WAAW,CAAC,UAAU,CAAEC,QAAQ,CAAGC,KAAK,EAAG,CAClDhB,QAAQ,CAACgB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC5B,CAAE,CAAC,CAAC,EACA,CAAC,cAENvB,KAAA,QAAKiB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACvBpB,IAAA,UAAAoB,QAAA,CAAO,QAAM,CAAO,CAAC,cACrBpB,IAAA,aAAUqB,WAAW,CAAC,SAAS,CAAEC,QAAQ,CAAGC,KAAK,EAAG,CACpDd,WAAW,CAACc,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC/B,CAAE,CAAC,CAAC,EACA,CAAC,cACNzB,IAAA,WAAQ0B,OAAO,CAAEd,UAAW,CAAAQ,QAAA,CAAC,cAAY,CAAQ,CAAC,EAC7C,CAAC,EACG,CAAC,CACT,CAED,cAAe,CAAAjB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}